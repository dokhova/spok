<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title data-translate="page_title">Spokspace — Terms of Use</title>
  <style>
    :root {
      --main: #19191B;
      --white: #ffffff;
      --text-2: #b3b3b3;
      --green: #34A853;
    }

    html, body {
      margin: 0;
      padding: 0;
      height: 100%;
      background-color: var(--main);
      font-family: "Inter", sans-serif;
    }

    a {
      text-decoration: none;
      color: inherit;
    }

    /* Language Switcher */
    .language-switcher {
      position: fixed;
      top: 24px;
      right: calc(50vw - 163.5px);
      z-index: 200;
      display: flex;
      gap: 8px;
      background: rgba(255, 255, 255, 0.05);
      padding: 4px;
      border-radius: 8px;
      backdrop-filter: blur(10px);
    }

    /* Для маленьких экранов */
    @media (max-width: 425px) {
      .language-switcher {
        right: 24px;
      }
    }

    .lang-btn {
      background: none;
      border: none;
      color: var(--text-2);
      font-size: 12px;
      font-weight: 500;
      padding: 6px 12px;
      border-radius: 8px;
      cursor: pointer;
      transition: all 0.2s;
      font-family: "Inter", sans-serif;
    }

    .lang-btn.active {
      background: linear-gradient(135deg, #FFD527 8%, #34A853 85%, #4285F4 98%);
      color: white;
    }

    .lang-btn:hover {
      background: rgba(255, 255, 255, 0.1);
    }

    .lang-btn.active:hover {
      background: linear-gradient(135deg, #FFD527 8%, #34A853 85%, #4285F4 98%);
    }

    /* Header with back button */
    .header {
      position: fixed;
      top: 0;
      left: 50%;
      transform: translateX(-50%);
      max-width: 375px;
      width: 100%;
      z-index: 100;
      display: flex;
      justify-content: space-between;
      align-items: center;
      background-color: var(--main);
      padding: 24px 24px 24px 24px;
      box-sizing: border-box;
    }

    .back-button {
      display: flex;
      align-items: center;
      justify-content: center;
      width: 40px;
      height: 32px;
      background-color: rgba(255, 255, 255, 0.1);
      border-radius: 8px;
      border: none;
      transition: background-color 0.2s;
      cursor: pointer;
    }

    .back-button:active {
      background-color: rgba(255, 255, 255, 0.2);
    }

    .back-arrow {
      width: 16px;
      height: 16px;
      color: var(--white);
    }

    .container {
      max-width: 375px;
      margin: 0 auto;
      padding: 105px 24px 24px 24px;
      display: flex;
      flex-direction: column;
      padding-bottom: 48px;
      box-sizing: border-box;
    }

    .page-header {
      margin-bottom: 48px;
    }

    .page-title {
      font-size: 24px;
      line-height: 32px;
      font-weight: 600;
      color: var(--white);
      margin-bottom: 8px;
    }

    .date-badge {
      background-color: rgba(52, 168, 83, 0.1);
      color: var(--green);
      padding: 4px 8px;
      border-radius: 4px;
      font-size: 12px;
      line-height: 18px;
      font-weight: 500;
      display: inline-block;
    }

    .content-section {
      margin-bottom: 32px;
    }

    .section-title {
      font-size: 16px;
      line-height: 24px;
      font-weight: 600;
      color: var(--white);
      margin-bottom: 16px;
      margin-top: 0;
    }

    .subsection-title {
      font-size: 14px;
      line-height: 20px;
      font-weight: 600;
      color: var(--text-2);
      margin-bottom: 12px;
      margin-top: 24px;
    }

    .content-text {
      font-size: 14px;
      line-height: 20px;
      font-weight: 400;
      color: var(--text-2);
      margin-bottom: 16px;
    }

    .content-text:last-child {
      margin-bottom: 0;
    }

    .highlight-text {
      color: var(--white);
      font-weight: 600;
    }

    .list-container {
      margin: 16px 0;
    }

    .list-item {
      display: flex;
      align-items: flex-start;
      gap: 8px;
      margin-bottom: 8px;
      font-size: 14px;
      line-height: 20px;
      font-weight: 400;
      color: var(--text-2);
    }

    .list-item:last-child {
      margin-bottom: 0;
    }

    .list-bullet {
      color: var(--green);
      font-weight: 600;
      flex-shrink: 0;
    }

    .contact-info {
      background-color: rgba(255, 255, 255, 0.03);
      border-radius: 8px;
      padding: 16px;
      margin-top: 16px;
    }

    .contact-title {
      font-size: 14px;
      line-height: 20px;
      font-weight: 600;
      color: var(--white);
      margin-bottom: 8px;
    }

    .contact-item {
      display: flex;
      align-items: center;
      gap: 8px;
      font-size: 14px;
      line-height: 20px;
      font-weight: 400;
      color: var(--text-2);
    }

    .emoji {
      font-size: 16px;
    }
  </style>
</head>
<body>
  <!-- Language Switcher -->
  <div class="language-switcher">
    <button class="lang-btn active" id="enBtn">EN</button>
    <button class="lang-btn" id="ruBtn">RU</button>
  </div>

  <!-- Header with back button -->
  <div class="header">
    <button class="back-button" onclick="window.history.back()">
      <svg class="back-arrow" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path d="M10 12L6 8L10 4" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
      </svg>
    </button>
    <div></div>
  </div>

  <div class="container">
    <div class="page-header">
      <h1 class="page-title" data-translate="main_title">Terms of Use</h1>
      <div class="date-badge" data-translate="updated_date">Updated: June 27, 2025</div>
    </div>

    <div class="content-section">
      <h2 class="section-title" data-translate="section1_title">1. General Provisions</h2>
      <p class="content-text" data-translate="section1_p1">By using the Spokspace mini-app (hereinafter — "Application", "we"), you (hereinafter — "User") agree to these terms. If you do not agree with them — please stop using the Application.</p>
      <p class="content-text" data-translate="section1_p2">The Spokspace application works within Telegram and is not a product of Telegram, Apple, Google or TON Foundation. These companies are not affiliated with us and do not support our product.</p>
      <p class="content-text" data-translate="section1_p3">The application is intended for users aged 13 and over. If you are under 18, please use the application with parental consent.</p>
    </div>

    <div class="content-section">
      <h2 class="section-title" data-translate="section2_title">2. Service Description</h2>
      <p class="content-text" data-translate="section2_p1">Spokspace is a <span class="highlight-text">non-commercial mini-application</span> within Telegram, offering users simple practices of breathing, mindfulness and self-regulation, as well as a mood tracking calendar. We do not use advertising and do not sell data.</p>
    </div>

    <div class="content-section">
      <h2 class="section-title" data-translate="section3_title">3. What Data We Collect</h2>
      <div class="subsection-title" data-translate="section3_sub1">User Data</div>
      <p class="content-text" data-translate="section3_p1">Through Telegram WebApp API the application may receive:</p>
      <div class="list-container">
        <div class="list-item">
          <span class="list-bullet">•</span>
          <span data-translate="section3_list1_item1">Telegram user first and last name</span>
        </div>
        <div class="list-item">
          <span class="list-bullet">•</span>
          <span data-translate="section3_list1_item2">Username</span>
        </div>
        <div class="list-item">
          <span class="list-bullet">•</span>
          <span data-translate="section3_list1_item3">Profile photo (if available)</span>
        </div>
        <div class="list-item">
          <span class="list-bullet">•</span>
          <span data-translate="section3_list1_item4">Telegram ID</span>
        </div>
      </div>
      <p class="content-text" data-translate="section3_p2">This data is used to display the interface and <span class="highlight-text">personalize the user experience</span>. We do not transfer personal data to third parties for commercial purposes.</p>
      
      <div class="subsection-title" data-translate="section3_sub2">Emotional Data</div>
      <p class="content-text" data-translate="section3_p3">For the mood calendar feature, we collect and store:</p>
      <div class="list-container">
        <div class="list-item">
          <span class="list-bullet">•</span>
          <span data-translate="section3_list2_item1">Emotion marks in the mood calendar</span>
        </div>
        <div class="list-item">
          <span class="list-bullet">•</span>
          <span data-translate="section3_list2_item2">Dates and times of mood entries</span>
        </div>
        <div class="list-item">
          <span class="list-bullet">•</span>
          <span data-translate="section3_list2_item3">Usage statistics of the emotion calendar</span>
        </div>
      </div>
      <p class="content-text" data-translate="section3_p4">This emotional data is stored anonymously and used solely to provide calendar functionality and improve user experience.</p>

      <div class="subsection-title" data-translate="section3_sub3">Data for Service Improvement</div>
      <p class="content-text" data-translate="section3_p5">To develop and personalize the service, we may save information about interaction with the application, including:</p>
      <div class="list-container">
        <div class="list-item">
          <span class="list-bullet">•</span>
          <span data-translate="section3_list3_item1">Frequency of using various practices</span>
        </div>
        <div class="list-item">
          <span class="list-bullet">•</span>
          <span data-translate="section3_list3_item2">Time of interaction with the application</span>
        </div>
        <div class="list-item">
          <span class="list-bullet">•</span>
          <span data-translate="section3_list3_item3">Preferences in content selection</span>
        </div>
        <div class="list-item">
          <span class="list-bullet">•</span>
          <span data-translate="section3_list3_item4">Technical data to ensure service operation</span>
        </div>
      </div>
      <p class="content-text" data-translate="section3_p6">This data is used exclusively to <span class="highlight-text">improve user experience</span> and is not transferred to third parties for commercial purposes.</p>
    </div>

    <div class="content-section">
      <h2 class="section-title" data-translate="section4_title">4. Data Storage and Use</h2>
      <p class="content-text" data-translate="section4_p1">We store the minimum necessary amount of data to ensure the application works and <span class="highlight-text">improve user experience</span>. All data is processed in compliance with privacy principles.</p>
      
      <div class="subsection-title" data-translate="section4_sub1">Technical Storage Details</div>
      <div class="list-container">
        <div class="list-item">
          <span class="list-bullet">•</span>
          <span data-translate="section4_list1_item1">Emotion calendar data is stored in Firebase (Google Cloud Platform)</span>
        </div>
        <div class="list-item">
          <span class="list-bullet">•</span>
          <span data-translate="section4_list1_item2">Anonymous authentication is used without personal identity binding</span>
        </div>
        <div class="list-item">
          <span class="list-bullet">•</span>
          <span data-translate="section4_list1_item3">Storage period: data is kept until user requests deletion</span>
        </div>
        <div class="list-item">
          <span class="list-bullet">•</span>
          <span data-translate="section4_list1_item4">Users can request complete deletion of their data at any time</span>
        </div>
      </div>

      <p class="content-text" data-translate="section4_p2">Data may be stored in secure cloud services to ensure stable application operation. After stopping service use, data may be deleted upon user request.</p>
      <p class="content-text" data-translate="section4_p3">If new data collection features appear in the future, users will be notified separately.</p>
    </div>

    <div class="content-section">
      <h2 class="section-title" data-translate="section5_title">5. Security</h2>
      <p class="content-text" data-translate="section5_p1">All actions occur within Telegram, using the official WebApp SDK. We do not process financial or sensitive personal data.</p>
      
      <div class="subsection-title" data-translate="section5_sub1">Technical Security Measures</div>
      <div class="list-container">
        <div class="list-item">
          <span class="list-bullet">•</span>
          <span data-translate="section5_list1_item1">Data is transmitted via secure HTTPS connection</span>
        </div>
        <div class="list-item">
          <span class="list-bullet">•</span>
          <span data-translate="section5_list1_item2">Firebase Authentication is used for secure access</span>
        </div>
        <div class="list-item">
          <span class="list-bullet">•</span>
          <span data-translate="section5_list1_item3">Data is stored according to Google Cloud Security standards</span>
        </div>
        <div class="list-item">
          <span class="list-bullet">•</span>
          <span data-translate="section5_list1_item4">Encryption is applied for data transmission and storage</span>
        </div>
      </div>

      <div class="subsection-title" data-translate="section5_sub2">Automated Processing</div>
      <p class="content-text" data-translate="section5_p2">We do not make automated decisions based on your data. Emotional data is used only for interface personalization. No profiling or personality analysis is conducted.</p>
    </div>

    <div class="content-section">
      <h2 class="section-title" data-translate="section6_title">6. Disclaimer</h2>
      <p class="content-text" data-translate="section6_p1">The application is provided "as is". We do not guarantee error-free or continuous operation. Use of practices from the application is the user's responsibility.</p>
    </div>

    <div class="content-section">
      <h2 class="section-title" data-translate="section7_title">7. Terms Changes</h2>
      <p class="content-text" data-translate="section7_p1">We reserve the right to update this policy. The last update date is indicated at the beginning of the document.</p>
    </div>

    <div class="content-section">
      <h2 class="section-title" data-translate="section8_title">8. GDPR and EU Users</h2>
      <p class="content-text" data-translate="section8_p1">For users from the European Union:</p>
      <div class="list-container">
        <div class="list-item">
          <span class="list-bullet">•</span>
          <span data-translate="section8_list1_item1">Data processing is based on your consent</span>
        </div>
        <div class="list-item">
          <span class="list-bullet">•</span>
          <span data-translate="section8_list1_item2">You can withdraw consent at any time</span>
        </div>
        <div class="list-item">
          <span class="list-bullet">•</span>
          <span data-translate="section8_list1_item3">Data subject rights under GDPR apply</span>
        </div>
      </div>
    </div>

    <div class="content-section">
      <h2 class="section-title" data-translate="section9_title">9. User Rights</h2>
      <p class="content-text" data-translate="section9_p1">You have the right to:</p>
      <div class="list-container">
        <div class="list-item">
          <span class="list-bullet">•</span>
          <span data-translate="section9_list1_item1">View all your data in the application</span>
        </div>
        <div class="list-item">
          <span class="list-bullet">•</span>
          <span data-translate="section9_list1_item2">Request deletion of all your data</span>
        </div>
        <div class="list-item">
          <span class="list-bullet">•</span>
          <span data-translate="section9_list1_item3">Obtain a copy of your data in a readable format</span>
        </div>
        <div class="list-item">
          <span class="list-bullet">•</span>
          <span data-translate="section9_list1_item4">Stop data collection by deleting the application</span>
        </div>
      </div>
      <p class="content-text" data-translate="section9_p2">To exercise these rights, please contact us using the provided contact information.</p>
    </div>

    <div class="content-section">
      <h2 class="section-title" data-translate="section10_title">10. Contacts</h2>
      <p class="content-text" data-translate="section10_p1">If you have questions or a request to delete data, please contact us:</p>
      <div class="contact-info">
        <div class="contact-title" data-translate="contact_title">Contact Us</div>
        <div class="contact-item">
          <span class="emoji">📧</span>
          <span data-translate="contact_email">Email: info@spokspace.com</span>
        </div>
      </div>
    </div>
  </div>

  <script>
    // Translations
    const translations = {
      en: {
        page_title: "Spokspace — Terms of Use",
        main_title: "Terms of Use",
        updated_date: "Updated: June 27, 2025",
        section1_title: "1. General Provisions",
        section1_p1: "By using the Spokspace mini-app (hereinafter — \"Application\", \"we\"), you (hereinafter — \"User\") agree to these terms. If you do not agree with them — please stop using the Application.",
        section1_p2: "The Spokspace application works within Telegram and is not a product of Telegram, Apple, Google or TON Foundation. These companies are not affiliated with us and do not support our product.",
        section1_p3: "The application is intended for users aged 13 and over. If you are under 18, please use the application with parental consent.",
        section2_title: "2. Service Description",
        section2_p1: "Spokspace is a non-commercial mini-application within Telegram, offering users simple practices of breathing, mindfulness and self-regulation, as well as a mood tracking calendar. We do not use advertising and do not sell data.",
        section3_title: "3. What Data We Collect",
        section3_sub1: "User Data",
        section3_p1: "Through Telegram WebApp API the application may receive:",
        section3_list1_item1: "Telegram user first and last name",
        section3_list1_item2: "Username",
        section3_list1_item3: "Profile photo (if available)",
        section3_list1_item4: "Telegram ID",
        section3_p2: "This data is used to display the interface and personalize the user experience. We do not transfer personal data to third parties for commercial purposes.",
        section3_sub2: "Emotional Data",
        section3_p3: "For the mood calendar feature, we collect and store:",
        section3_list2_item1: "Emotion marks in the mood calendar",
        section3_list2_item2: "Dates and times of mood entries",
        section3_list2_item3: "Usage statistics of the emotion calendar",
        section3_p4: "This emotional data is stored anonymously and used solely to provide calendar functionality and improve user experience.",
        section3_sub3: "Data for Service Improvement",
        section3_p5: "To develop and personalize the service, we may save information about interaction with the application, including:",
        section3_list3_item1: "Frequency of using various practices",
        section3_list3_item2: "Time of interaction with the application",
        section3_list3_item3: "Preferences in content selection",
        section3_list3_item4: "Technical data to ensure service operation",
        section3_p6: "This data is used exclusively to improve user experience and is not transferred to third parties for commercial purposes.",
        section4_title: "4. Data Storage and Use",
        section4_p1: "We store the minimum necessary amount of data to ensure the application works and improve user experience. All data is processed in compliance with privacy principles.",
        section4_sub1: "Technical Storage Details",
        section4_list1_item1: "Emotion calendar data is stored in Firebase (Google Cloud Platform)",
        section4_list1_item2: "Anonymous authentication is used without personal identity binding",
        section4_list1_item3: "Storage period: data is kept until user requests deletion",
        section4_list1_item4: "Users can request complete deletion of their data at any time",
        section4_p2: "Data may be stored in secure cloud services to ensure stable application operation. After stopping service use, data may be deleted upon user request.",
        section4_p3: "If new data collection features appear in the future, users will be notified separately.",
        section5_title: "5. Security",
        section5_p1: "All actions occur within Telegram, using the official WebApp SDK. We do not process financial or sensitive personal data.",
        section5_sub1: "Technical Security Measures",
        section5_list1_item1: "Data is transmitted via secure HTTPS connection",
        section5_list1_item2: "Firebase Authentication is used for secure access",
        section5_list1_item3: "Data is stored according to Google Cloud Security standards",
        section5_list1_item4: "Encryption is applied for data transmission and storage",
        section5_sub2: "Automated Processing",
        section5_p2: "We do not make automated decisions based on your data. Emotional data is used only for interface personalization. No profiling or personality analysis is conducted.",
        section6_title: "6. Disclaimer",
        section6_p1: "The application is provided \"as is\". We do not guarantee error-free or continuous operation. Use of practices from the application is the user's responsibility.",
        section7_title: "7. Terms Changes",
        section7_p1: "We reserve the right to update this policy. The last update date is indicated at the beginning of the document.",
        section8_title: "8. GDPR and EU Users",
        section8_p1: "For users from the European Union:",
        section8_list1_item1: "Data processing is based on your consent",
        section8_list1_item2: "You can withdraw consent at any time",
        section8_list1_item3: "Data subject rights under GDPR apply",
        section9_title: "9. User Rights",
        section9_p1: "You have the right to:",
        section9_list1_item1: "View all your data in the application",
        section9_list1_item2: "Request deletion of all your data",
        section9_list1_item3: "Obtain a copy of your data in a readable format",
        section9_list1_item4: "Stop data collection by deleting the application",
        section9_p2: "To exercise these rights, please contact us using the provided contact information.",
        section10_title: "10. Contacts",
        section10_p1: "If you have questions or a request to delete data, please contact us:",
        contact_title: "Contact Us",
        contact_email: "Email: info@spokspace.com",
        contact_telegram: "Telegram: @spoksupport_bot"
      },
      ru: {
        page_title: "Spokspace — Условия использования",
        main_title: "Условия использования",
        updated_date: "Обновлено: 27 июня 2025 года",
        section1_title: "1. Общие положения",
        section1_p1: "Используя мини-приложение Spokspace (далее — «Приложение», «мы»), вы (далее — «Пользователь») соглашаетесь с настоящими условиями. Если вы не согласны с ними — пожалуйста, прекратите использование Приложения.",
        section1_p2: "Приложение Spokspace работает внутри Telegram и не является продуктом Telegram, Apple, Google или TON Foundation. Эти компании не связаны с нами и не поддерживают наш продукт.",
        section1_p3: "Приложение предназначено для пользователей от 13 лет. Если вам меньше 18 лет, используйте приложение с согласия родителей.",
        section2_title: "2. Описание сервиса",
        section2_p1: "Spokspace — это некоммерческое мини-приложение внутри Telegram, предлагающее пользователям простые практики дыхания, осознанности и саморегуляции, а также календарь отслеживания настроения. Мы не используем рекламу и не продаём данные.",
        section3_title: "3. Какие данные мы получаем",
        section3_sub1: "Пользовательские данные",
        section3_p1: "Через Telegram WebApp API приложение может получить:",
        section3_list1_item1: "Имя и фамилию пользователя Telegram",
        section3_list1_item2: "Username",
        section3_list1_item3: "Фото профиля (если доступно)",
        section3_list1_item4: "Telegram ID",
        section3_p2: "Эти данные используются для отображения интерфейса и персонализации пользовательского опыта. Мы не передаем персональные данные третьим лицам в коммерческих целях.",
        section3_sub2: "Эмоциональные данные",
        section3_p3: "Для функции календаря настроений мы собираем и храним:",
        section3_list2_item1: "Отметки эмоций в календаре настроений",
        section3_list2_item2: "Даты и время создания записей о настроении",
        section3_list2_item3: "Статистику использования календаря эмоций",
        section3_p4: "Эти эмоциональные данные хранятся анонимно и используются исключительно для предоставления функций календаря и улучшения пользовательского опыта.",
        section3_sub3: "Данные для улучшения сервиса",
        section3_p5: "Для развития и персонализации сервиса мы можем сохранять информацию о взаимодействии с приложением, включающую:",
        section3_list3_item1: "Частоту использования различных практик",
        section3_list3_item2: "Время взаимодействия с приложением",
        section3_list3_item3: "Предпочтения в выборе контента",
        section3_list3_item4: "Технические данные для обеспечения работы сервиса",
        section3_p6: "Эти данные используются исключительно для улучшения пользовательского опыта и не передаются третьим лицам в коммерческих целях.",
        section4_title: "4. Хранение и использование данных",
        section4_p1: "Мы храним минимально необходимый объем данных для обеспечения работы приложения и улучшения пользовательского опыта. Все данные обрабатываются с соблюдением принципов конфиденциальности.",
        section4_sub1: "Технические детали хранения",
        section4_list1_item1: "Данные календаря эмоций хранятся в Firebase (Google Cloud Platform)",
        section4_list1_item2: "Используется анонимная аутентификация без привязки к личности",
        section4_list1_item3: "Период хранения: данные хранятся до запроса пользователя на удаление",
        section4_list1_item4: "Пользователь может запросить полное удаление своих данных в любое время",
        section4_p2: "Данные могут храниться в защищенных облачных сервисах для обеспечения стабильной работы приложения. После прекращения использования сервиса данные могут быть удалены по запросу пользователя.",
        section4_p3: "Если в будущем появятся новые функции сбора данных, пользователи будут об этом уведомлены отдельно.",
        section5_title: "5. Безопасность",
        section5_p1: "Все действия происходят в пределах Telegram, с использованием официального WebApp SDK. Мы не обрабатываем финансовые или чувствительные персональные данные.",
        section5_sub1: "Технические меры безопасности",
        section5_list1_item1: "Данные передаются по защищенному HTTPS соединению",
        section5_list1_item2: "Используется Firebase Authentication для безопасного доступа",
        section5_list1_item3: "Данные хранятся в соответствии со стандартами Google Cloud Security",
        section5_list1_item4: "Применяется шифрование данных при передаче и хранении",
        section5_sub2: "Автоматизированная обработка",
        section5_p2: "Мы не принимаем автоматизированных решений на основе ваших данных. Данные эмоций используются только для персонализации интерфейса. Никакого профилирования или анализа личности не проводится.",
        section6_title: "6. Отказ от ответственности",
        section6_p1: "Приложение предоставляется «как есть». Мы не гарантируем безошибочную или непрерывную работу. Использование практик из приложения осуществляется на ответственность пользователя.",
        section7_title: "7. Изменения условий",
        section7_p1: "Мы оставляем за собой право обновлять эту политику. Дата последнего обновления указывается в начале документа.",
        section8_title: "8. GDPR и пользователи ЕС",
        section8_p1: "Для пользователей из Европейского Союза:",
        section8_list1_item1: "Обработка данных основана на вашем согласии",
        section8_list1_item2: "Вы можете отозвать согласие в любое время",
        section8_list1_item3: "Применяются права субъектов данных согласно GDPR",
        section9_title: "9. Права пользователей",
        section9_p1: "Вы имеете право:",
        section9_list1_item1: "Просматривать все ваши данные в приложении",
        section9_list1_item2: "Запросить удаление всех ваших данных",
        section9_list1_item3: "Получить копию ваших данных в читаемом формате",
        section9_list1_item4: "Прекратить сбор данных, удалив приложение",
        section9_p2: "Для реализации этих прав свяжитесь с нами по указанным контактам.",
        section10_title: "10. Контакты",
        section10_p1: "Если у вас есть вопросы или запрос на удаление данных, пожалуйста, свяжитесь с нами:",
        contact_title: "Связаться с нами",
        contact_email: "Email: info@spokspace.com",
        contact_telegram: "Telegram: @spoksupport_bot"
      }
    };

    // Translator class identical to practices.html
    class Translator {
      constructor() {
        console.log('🔄 Инициализация переводчика PRIVACY.HTML...');
        
        // Проверяем доступность localStorage
        this.localStorageAvailable = this.checkLocalStorageAvailability();
        
        // Правильный приоритет источников языка
        this.currentLang = this.getLanguageFromURL() || 
                          (this.localStorageAvailable ? this.getLanguageFromStorage() : null) || 
                          'en';
        
        console.log(`🌐 Выбранный язык: ${this.currentLang}`);
        console.log(`📍 Источник: ${this.getLanguageSource()}`);
        console.log(`💾 localStorage: ${this.localStorageAvailable ? 'доступен' : 'недоступен (Claude Artifacts)'}`);
        
        this.init();
      }

      checkLocalStorageAvailability() {
        try {
          const testKey = 'test_storage_' + Date.now();
          localStorage.setItem(testKey, 'test');
          localStorage.removeItem(testKey);
          return true;
        } catch (error) {
          console.log(`⚠️ localStorage недоступен: ${error.message}`);
          return false;
        }
      }

      getLanguageFromURL() {
        const urlParams = new URLSearchParams(window.location.search);
        const langFromUrl = urlParams.get('lang');
        console.log(`🔗 Язык из URL: ${langFromUrl}`);
        return langFromUrl;
      }

      getLanguageFromStorage() {
        if (!this.localStorageAvailable) return null;
        
        try {
          const langFromStorage = localStorage.getItem('spokspace_language');
          console.log(`💾 Язык из localStorage: ${langFromStorage}`);
          return langFromStorage;
        } catch (error) {
          console.log(`❌ Ошибка чтения localStorage: ${error.message}`);
          return null;
        }
      }

      getLanguageSource() {
        if (this.getLanguageFromURL()) return 'URL параметр';
        if (this.localStorageAvailable && this.getLanguageFromStorage()) return 'localStorage';
        return 'по умолчанию (en)';
      }

      init() {
        this.updatePage();
        this.updateLanguageButtons();
        this.updatePageLinks();
        this.setupLanguageButtons();
        document.documentElement.lang = this.currentLang;
        
        console.log(`✅ Переводчик PRIVACY.HTML инициализирован с языком: ${this.currentLang}`);
      }

      setupLanguageButtons() {
        document.getElementById('enBtn')?.addEventListener('click', () => {
          console.log('🔘 Клик по EN в PRIVACY.HTML');
          this.setLanguage('en');
        });
        
        document.getElementById('ruBtn')?.addEventListener('click', () => {
          console.log('🔘 Клик по RU в PRIVACY.HTML');
          this.setLanguage('ru');
        });
      }

      setLanguage(lang) {
        console.log(`🔄 Смена языка на: ${lang} в PRIVACY.HTML`);
        
        this.currentLang = lang;
        
        // Сохранение в localStorage (если доступен)
        if (this.localStorageAvailable) {
          try {
            localStorage.setItem('spokspace_language', lang);
            console.log(`✅ Язык ${lang} сохранен в localStorage`);
          } catch (error) {
            console.log(`❌ Не удалось сохранить в localStorage: ${error.message}`);
          }
        } else {
          console.log(`⚠️ localStorage недоступен, используем только URL синхронизацию`);
        }
        
        // Обновление URL (всегда работает)
        try {
          const newUrl = `${window.location.pathname}?lang=${lang}`;
          window.history.replaceState({}, '', newUrl);
          console.log(`✅ URL обновлен: ${newUrl}`);
        } catch (error) {
          console.log(`❌ Не удалось обновить URL: ${error.message}`);
        }
        
        this.updatePage();
        this.updateLanguageButtons();
        this.updatePageLinks();
        
        // Update document lang attribute
        document.documentElement.lang = lang;
        
        console.log(`🌐 Язык изменен на: ${lang} в PRIVACY.HTML`);
      }

      updatePageLinks() {
        // Обновляем ВСЕ ссылки для передачи языка
        const links = document.querySelectorAll('a[href$=".html"], a[href*=".html"]');
        let updateCount = 0;
        
        links.forEach(link => {
          let href = link.getAttribute('href');
          
          // Пропускаем внешние ссылки
          if (href.startsWith('http') || href.startsWith('//')) return;
          
          // Убираем старый параметр lang если есть
          if (href.includes('?lang=')) {
            href = href.split('?')[0];
          }
          
          // Убираем якоря и query параметры кроме lang
          if (href.includes('#')) {
            const parts = href.split('#');
            href = parts[0];
          }
          
          // Добавляем новый параметр lang
          const separator = href.includes('?') ? '&' : '?';
          const newHref = `${href}${separator}lang=${this.currentLang}`;
          link.setAttribute('href', newHref);
          updateCount++;
        });
        
        console.log(`🔗 Обновлено ${updateCount} ссылок с lang=${this.currentLang} в PRIVACY.HTML`);
      }

      translate(key) {
        return translations[this.currentLang]?.[key] || translations.en[key] || key;
      }

      updatePage() {
        // Update all elements with data-translate attribute
        document.querySelectorAll('[data-translate]').forEach(element => {
          const key = element.getAttribute('data-translate');
          const translation = this.translate(key);
          
          if (element.tagName === 'TITLE') {
            element.textContent = translation;
          } else {
            element.textContent = translation;
          }
        });
        
        console.log(`🔄 Обновлено ${document.querySelectorAll('[data-translate]').length} элементов перевода`);
      }

      updateLanguageButtons() {
        document.querySelectorAll('.lang-btn').forEach(btn => {
          btn.classList.remove('active');
          if (btn.textContent.toLowerCase() === this.currentLang) {
            btn.classList.add('active');
            // Принудительно применяем градиент
            btn.style.background = 'linear-gradient(135deg, #FFD527 8%, #34A853 85%, #4285F4 98%)';
          } else {
            btn.style.background = '';
          }
        });
      }

      // Метод для отладки
      debug() {
        console.log('\n🔍 ОТЛАДОЧНАЯ ИНФОРМАЦИЯ PRIVACY.HTML:');
        console.log('======================================');
        console.log(`📄 Страница: ${window.location.pathname}`);
        console.log(`🌐 Текущий язык: ${this.currentLang}`);
        console.log(`🔗 URL параметр: ${this.getLanguageFromURL()}`);
        console.log(`💾 localStorage доступен: ${this.localStorageAvailable}`);
        if (this.localStorageAvailable) {
          console.log(`💾 Язык в localStorage: ${this.getLanguageFromStorage()}`);
        }
        console.log(`🔗 Количество ссылок: ${document.querySelectorAll('a[href$=".html"], a[href*=".html"]').length}`);
        console.log(`📝 Элементы перевода: ${document.querySelectorAll('[data-translate]').length}`);
        console.log(`🎯 Источник языка: ${this.getLanguageSource()}`);
        console.log('======================================\n');
      }

      // Метод для тестирования синхронизации
      testSync() {
        console.log('\n🧪 ТЕСТ СИНХРОНИЗАЦИИ PRIVACY.HTML:');
        console.log('===================================');
        
        // Тест URL API
        try {
          console.log(`✅ URL API работает: ${window.location.href}`);
        } catch (error) {
          console.log(`❌ URL API не работает: ${error.message}`);
        }
        
        // Тест localStorage
        if (this.localStorageAvailable) {
          console.log('✅ localStorage доступен и работает');
        } else {
          console.log('⚠️ localStorage недоступен (Claude Artifacts)');
          console.log('📍 Используется синхронизация через URL параметры');
        }
        
        // Тест переводов
        try {
          const testTranslation = this.translate('main_title');
          console.log(`✅ Переводы работают: "main_title" → "${testTranslation}"`);
        } catch (error) {
          console.log(`❌ Ошибка переводов: ${error.message}`);
        }
        
        console.log('===================================\n');
      }
    }

    // Initialize translator
    window.translator = new Translator();

    // Initialize when DOM is loaded
    document.addEventListener('DOMContentLoaded', () => {
      // Отладка (можно убрать в продакшене)
      setTimeout(() => {
        window.translator.debug();
        window.translator.testSync();
      }, 1000);
    });
  </script>
</body>
</html>